#:kivy 2.3.1

<AddingScreen>
    md_bg_color: self.theme_cls.backgroundColor
    MDScrollView:
        do_scroll_x: False
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(30)
            adaptive_height: True
            AddingAscentForm:
            MDDivider:
                size_hint_x: 0.5
                pos_hint: {"center_x": 0.5}
            AddingAreaForm:
                id: adding_area_form
            MDDivider:
                size_hint_x: 0.5
                pos_hint: {"center_x": 0.5}
            DeleteAreaList:
                id: delete_area_list

<SectionTitle@MDLabel>
    # Section title for each Items of the AddingScreen
    adaptive_height: True
    size_hint_x: 1
    text_size: self.size
    padding: 0, 0, 0, dp(30)
    halign: 'center'
    font_style: 'Title'
    role: 'large'
    text_color: app.theme_cls.primaryColor
    bold: True

<AddingAscentForm>
    orientation: 'vertical'
    padding: dp(20)
    adaptive_height: True

    SectionTitle:
        text: "Add Ascent"
    MDTextField:
        id: ascent_form_name
        mode: 'filled'
        MDTextFieldLeadingIcon:
            icon: "terrain"
        MDTextFieldHintText:
            id: text_field
            text: "Ascent Name"
        MDTextFieldMaxLengthText:
            max_text_length: 64

    DropDownMenuHeader:
        id: ascent_form_grade
        on_release: root.open_grade_menu(self)
        text: "Grade"
        leading_icon: "chart-bar"
        adaptive_size: True
        padding: 0, dp(30), 0, dp(10)

    MDDivider:
        md_bg_color: app.theme_cls.outlineVariantColor
        divider_width: dp(1)

    DropDownMenuHeader:
        id: ascent_form_area
        on_release: root.open_area_menu(self)
        text: "Area"
        leading_icon: "map-marker"
        adaptive_size: True
        padding: 0, dp(30), 0, dp(10)

    MDDivider:
        md_bg_color: app.theme_cls.outlineVariantColor
        divider_width: dp(1)
    
    DropDownMenuHeader:
        id: ascent_form_date_picker
        on_release: root.show_date_picker()
        text: "Date"
        leading_icon: "calendar"
        adaptive_size: True
        padding: 0, dp(30), 0, dp(10)

    MDDivider:
        md_bg_color: app.theme_cls.outlineVariantColor
        divider_width: dp(1)

    MDBoxLayout:
        orientation: "horizontal"
        adaptive_height: True
        padding: 0, dp(30), 0, dp(10)
        spacing: dp(30)
        Widget:
        MDButton:
            on_release: root.clear_all_fields()
            MDButtonText:
                text: 'Clear'
        MDButton:
            on_release: root.submit()
            MDButtonText:
                text: "Add"

<AddingAreaForm>
    orientation: 'vertical'
    adaptive_height: True
    padding: dp(20)

    SectionTitle:
        text: "Add Area"
    MDTextField:
        id: area_form_name
        mode: 'filled'
        MDTextFieldLeadingIcon:
            icon: "map"
        MDTextFieldHintText:
            id: text_field
            text: "Area Name"
        MDTextFieldMaxLengthText:
            max_text_length: 64

    MDBoxLayout:
        orientation: "horizontal"
        adaptive_height: True
        padding: 0, dp(30), 0, dp(10)
        spacing: dp(30)
        Widget:
        MDButton:
            on_release: root.clear_field()
            MDButtonText:
                text: 'Clear'
        MDButton:
            on_release: root.submit()
            MDButtonText:
                text: "Add"

<DropDownMenuHeader>
    orientation: "vertical"
    id: container

    MDBoxLayout:
        spacing: dp(15)
        adaptive_height: True
        adaptive_width: True

        MDIcon:
            id: leading_icon
            icon: root.leading_icon
            size_hint: None, None
            size: "48dp", "48dp"
            theme_text_color: "Custom"
            adaptive_width: True
            text_color:
                app.theme_cls.onSurfaceVariantColor

        MDLabel:
            id: label
            text: root.text
            adaptive_size: True
            theme_text_color: "Custom"
            text_color:
                app.theme_cls.onSurfaceVariantColor
        
        MDIcon:
            id: leading_icon
            icon: "arrow-down-drop-circle-outline"
            size_hint: None, None
            size: "48dp", "48dp"
            theme_text_color: "Custom"
            adaptive_width: True
            text_color:
                app.theme_cls.onSurfaceVariantColor

<DeleteAreaList>
    orientation: 'vertical'
    adaptive_height: True
    padding: dp(20)
    SectionTitle:
        text: "Delete Area"
    
<AreaItem>
    orientation: 'horizontal'
    adaptive_height: True
    spacing: dp(10)
    canvas.after:
        Color:
            rgba: 0.5, 0.5, 0.5, 1  # Light gray color for the line
        Line:
            points: self.x, self.y, self.right, self.y  # Draws a line at the bottom
            width: 1  # Thickness of the line

    MDLabel:
        text: root.area_name
        bold: True
        font_style: 'Body'
        role: 'medium'
    MDIconButton:
        icon: 'delete-outline'
        theme_font_size: "Custom"
        font_size: "20sp"
        radius: [self.height / 4, ]
        size_hint: None, None
        size: "30dp", "30dp"
        on_release: root.show_delete_dialog()
